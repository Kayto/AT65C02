10 REM LCD HELLO TEST
20 PRINT "LCD HELLO"
30 MC = 30000
40 REM LOAD LCD CLEAR CODE
50 FOR I = 0 TO 41
60 READ B
70 POKE MC + I, B
80 NEXT I
90 REM LOAD LCD PUTC CODE
100 FOR I = 0 TO 58
110 READ B
120 POKE MC + 42 + I, B
130 NEXT I
140 PRINT "CLEARING LCD"
150 GOSUB 1000
160 PRINT "WRITING HELLO"
170 POKE 101, 72
180 GOSUB 1100
190 POKE 101, 69
200 GOSUB 1100
210 POKE 101, 76
220 GOSUB 1100
230 POKE 101, 76
240 GOSUB 1100
250 POKE 101, 79
260 GOSUB 1100
270 PRINT "DONE"
280 END
1000 REM CALL LCD CLEAR
1010 POKE 10, 76
1020 POKE 11, MC AND 255
1030 POKE 12, MC / 256
1040 X = USR(0)
1050 RETURN
1100 REM CALL LCD PUTC
1105 AD = MC + 42
1110 POKE 10, 76
1120 POKE 11, AD AND 255
1130 POKE 12, AD / 256
1140 X = USR(0)
1150 RETURN
2000 REM LCD CLEAR DATA
2010 REM HIGH NIBBLE 0 RS=0
2020 DATA 169,0,141,0,144
2030 REM E HIGH
2040 DATA 169,8,141,0,144
2050 REM SHORT DELAY
2060 DATA 234,234,234
2070 REM E LOW
2080 DATA 169,0,141,0,144
2090 REM LOW NIBBLE 1 RS=0
2100 DATA 169,16,141,0,144
2110 REM E HIGH
2120 DATA 169,24,141,0,144
2130 REM SHORT DELAY
2140 DATA 234,234,234
2150 REM E LOW
2160 DATA 169,16,141,0,144
2170 REM SHORT DELAY
2180 DATA 162,50,202,208,253
2190 DATA 96
3000 REM LCD PUTC DATA
3010 REM LOAD CHAR SAVE
3020 DATA 165,101,170,72
3030 REM HIGH NIBBLE SHIFT
3040 DATA 41,240,74,74
3050 DATA 74,74,9,2
3060 DATA 141,0,144
3070 REM E HIGH
3080 DATA 9,8,141,0,144
3090 REM DELAY
3100 DATA 234,234,234
3110 REM E LOW XOR TO CLEAR E
3120 DATA 73,8,141,0,144
3130 REM LOW NIBBLE RESTORE
3140 DATA 104,41,15,10
3150 DATA 10,10,10,9
3160 DATA 2,141,0,144
3170 REM E HIGH
3180 DATA 9,8,141,0,144
3190 REM DELAY
3200 DATA 234,234,234
3210 REM E LOW XOR
3220 DATA 73,8,141,0,144
3230 REM SHORT DELAY
3240 DATA 162,10,202,208,253
3250 DATA 96
